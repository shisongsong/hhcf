<view class="container" wx:if="{{record}}">
  <!-- ÂÖ®Â±èÂõæÁâá -->
  <view class="image-viewer">
    <image
      class="full-image"
      src="{{record.imageUrl}}"
      mode="aspectFit"
    ></image>
  </view>

  <!-- È°∂ÈÉ®Êìç‰ΩúÊ†è -->
  <view class="top-bar">
    <view class="top-bar-bg"></view>
    <view class="top-actions">
      <view class="action-btn" bindtap="onBack">
        <view class="back-icon">
          <view class="back-arrow"></view>
        </view>
      </view>
      <view class="action-btn" bindtap="onMoreTap">
        <view class="more-icon">
          <view class="more-dot"></view>
          <view class="more-dot"></view>
          <view class="more-dot"></view>
        </view>
      </view>
    </view>
  </view>

  <!-- Â∫ïÈÉ®‰ø°ÊÅØÊ†è -->
  <view class="bottom-bar">
    <view class="bottom-bar-bg"></view>
    <view class="bottom-content">
      <view class="meal-info">
        <view class="meal-tag" style="background: linear-gradient(135deg, {{mealTypeInfo.color}} 0%, {{mealTypeInfo.color}}CC 100%);">
          <text class="meal-emoji">{{mealTypeInfo.emoji}}</text>
          <text class="meal-label">{{mealTypeInfo.label}}</text>
        </view>
      </view>
      <view class="time-info">
        <text class="time-text">{{formattedTime.full}}</text>
      </view>
    </view>
  </view>

  <!-- Êìç‰ΩúËèúÂçï -->
  <view class="action-sheet-mask {{showActionSheet ? 'show' : ''}}" bindtap="onCloseActionSheet"></view>
  <view class="action-sheet {{showActionSheet ? 'show' : ''}}">
    <view class="sheet-item" bindtap="onSavePoster" wx:if="{{isOwner}}">
      <text class="sheet-icon">üñºÔ∏è</text>
      <text class="sheet-text">‰øùÂ≠òÊµ∑Êä•</text>
    </view>
    <view class="sheet-item" bindtap="onDeleteTap" wx:if="{{isOwner}}">
      <text class="sheet-icon" style="color: #FF6B6B;">üóëÔ∏è</text>
      <text class="sheet-text" style="color: #FF6B6B;">Âà†Èô§ËÆ∞ÂΩï</text>
    </view>
    <view class="sheet-cancel" bindtap="onCloseActionSheet">ÂèñÊ∂à</view>
  </view>

  <!-- Êµ∑Êä•ÁîªÂ∏É -->
  <view class="poster-canvas-container">
    <canvas type="2d" id="posterCanvas" style="width: 320px; height: 480px;"></canvas>
  </view>
</view>
