<view class="container">
  <!-- é¡µé¢å¤´éƒ¨ -->
  <view class="page-header">
    <text class="page-title">è®°å½•</text>
    <view class="record-count" wx:if="{{records.length > 0}}">{{records.length}} æ¡</view>
  </view>

  <!-- ä¹å®«æ ¼åˆ—è¡¨ -->
  <scroll-view 
    class="grid-container" 
    scroll-y 
    enhanced 
    show-scrollbar="{{false}}"
  >
    <view class="photo-grid" wx:if="{{records.length > 0}}">
      <view 
        wx:for="{{records}}"
        wx:key="id"
        class="grid-item"
        data-id="{{item.id}}"
        bindtap="onRecordTap"
      >
        <image 
          class="grid-image" 
          src="{{item.imageUrl[0]}}" 
          mode="aspectFill"
          lazy-load
        ></image>
        <view class="grid-overlay" style="background: linear-gradient(180deg, transparent 50%, {{item.mealInfo.color}}CC 100%);">
          <view class="grid-meal-tag" style="background: {{item.mealInfo.color}};">
            <text>{{item.mealInfo.emoji}}</text>
          </view>
          <view class="grid-multi-badge" wx:if="{{item.imageUrl.length > 1}}">
            <text>{{item.imageUrl.length}}</text>
          </view>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:else>
      <view class="empty-emoji">ğŸ½ï¸</view>
      <text class="empty-text">è¿˜æ²¡æœ‰è®°å½•å“¦</text>
      <text class="empty-hint">è®°å½•ä½ çš„ç¬¬ä¸€é¡¿é¥­å§</text>
    </view>
  </scroll-view>
</view>
