📄 吃饭打卡小程序 PRD（极简版）  
文档版本：V1.0  
最后更新：2026-01-31  
产品定位：个人向轻量级饮食记录工具，聚焦「拍照-分享-回顾」核心链路，无社交压力、无冗余功能  

一、项目概览
项目   说明
产品名称   饭记（暂定）

核心目标   用户3秒完成打卡，1键分享饭照，纯净回顾饮食轨迹

目标用户   注重生活仪式感、需简单记录饮食的个人用户（非减肥/健康分析场景）

关键原则   • 零文字输入 • 餐别智能识别 • 分享即传播 • 回顾无干扰

范围界定   ✅ 包含：拍照打卡、智能餐别、双模式分享、时间线回顾、隐形筛选❌ 排除：用户系统、订阅提醒、热量计算、好友互动、数据统计报表

二、用户角色与场景
角色   核心诉求   关键场景
日常记录者   “拍完即走，月底翻翻吃了啥”   午餐后打开→拍饭→分享到家庭群→晚上滑动回顾

分享爱好者   “用海报发朋友圈有温度”   选“手写暖”海报→加文案“今日治愈”→发圈获赞

细节控用户   “偶尔需要找某天晚餐”   点⋮→筛选“晚餐”→快速定位→重置恢复时间线

三、核心功能详述
🔹 3.1 首页（打卡入口）
元素   规格   交互逻辑
中央“+"按钮   直径 60px，圆角，主色 #4CAF50   点击 → 调起系统相机/相册

底部导航栏   仅2项：首页（高亮） / 记录   点击“记录”跳转回顾页

验收标准：从打开小程序到调起相机 ≤1.5秒（云开发静默登录）

🔹 3.2 打卡流程（关键路径）
graph LR
A[点击+按钮] --> B[拍照/选图]
B --> C{系统智能识别餐别}
C -->|6：00-10：59| D[🌅 早餐 高亮]
C -->|11：00-14：59| E[🌞 午餐 高亮]
C -->|17：00-22：59| F[🌙 晚餐 高亮]
C -->|其他时段| G[➕ 加餐 高亮]
D & E & F & G --> H[预览页：标题=“{餐别}打卡”]
H --> I[用户可修改餐别/标题]
I --> J[生成分享内容]

智能餐别规则（硬编码）：
时段   默认餐别   图标   标题前缀
06:00-10:59   早餐   🌅   “早餐打卡”

11:00-14:59   午餐   🌞   “午餐打卡”

17:00-22:59   晚餐   🌙   “晚餐打卡”

其他   加餐   ➕   “加餐打卡”

预览页元素：
- 顶部：饭照（可左右滑动切换多图，首版限1张）
- 中部：标题栏（默认“午餐打卡”，点击弹3选项：{当前餐别}打卡 / 今日美食 / 分享这顿饭）
- 底部双按钮：  
  ⇦ 返回修改（灰色） / ✓ 生成分享（绿色，主按钮）

联动逻辑：修改餐别 → 标题自动重置为“{新餐别}打卡”  
验收标准：从拍照完成到预览页加载 ≤1秒

🔹 3.3 分享功能
模式   实现方式   参数规则
分享到聊天   小程序原生分享卡片   • 封面图：当前饭照（压缩至500KB内）• 标题：用户选定的标题（如“午餐打卡”）• path：/pages/detail/detail?id={recordId}

生成海报   Canvas绘制+云函数生成   • 3种风格（见下表）• 小程序码：携带recordId参数• 保存至相册后提示“长按图片可分享到朋友圈”

海报风格规范：
风格   背景   元素   文案
简约白   #FFFFFF   饭照居中（圆角4px）+ 右下角小程序码   “扫码看这顿饭”

时光灰   #F8F9FA 渐变   饭照（圆角8px）+ 顶部日期“06.15 午餐”+ 左下角码   无额外文案

手写暖   #FFF9F0   饭照 + 手写体“今天吃这个！”（字体：Ma Shan Zheng）+ 底部码   无

验收标准：海报生成 ≤3秒；扫码后直接打开对应饭照详情页

🔹 3.4 回顾页（核心界面）
📍 页面结构（自上而下）
区域   内容   规格
导航栏   标题“我的饭记录” + ⋮图标（右上角，距右16px）   ⋮颜色 #CCCCCC，尺寸 24x24px

内容区   滚动时间线   2列瀑布流，列间距8px，边距12px

分组标题   “今天”“昨天”“6月15日”   14px #999999，左对齐，上下留白16px

记录卡片   饭照 + 左上角餐别标识   标识：半透明白底框+图标（尺寸16x16px）早餐#FFB300 / 午餐#4CAF50 / 晚餐#2196F3 / 加餐#9E9E9E

📍 ⋮菜单交互流程
graph TD
A[点击⋮] --> B{弹出底部菜单}
B --> C[按餐别筛选]
B --> D[导出记录 灰色置灰]
C --> E[跳转筛选页：全部/🌅/🌞/🌙/➕]
E --> F[选择后返回]
F --> G[顶部提示条： 仅显示：午餐 [重置] ]
G --> H[点击重置→恢复全部]

📍 全屏预览页
- 背景：纯黑 #000000  
- 主体：饭照（支持手势缩放）  
- 右上角：🗑️（白色）→ 点击弹窗“删除这顿饭记录？” + [取消][确定]  
- 左下角（小字）：2024.06.15 12:30 🌞（仅预览时显示）  

验收标准：  
• 删除需二次确认，误触率=0  
• 筛选后“重置”按钮点击即刻恢复全量数据  
• 90条记录滚动流畅（FPS≥55）

四、数据与隐私
项目   方案
用户标识   微信静默登录（仅获取openid，不收集昵称/头像）

数据存储   • 云数据库：records集合（字段：_id, openid, imageUrl, mealType, timestamp, title）• 云存储：按/records/{openid}/{timestamp}.jpg路径存储

隐私规则   • 所有记录仅当前用户可见• 分享链接含唯一recordId，但需校验openid匹配（防爬）• 隐私协议明确：“数据永不用于商业分析”

数据保留   用户可随时删除；无自动清理策略

五、非功能需求
类别   要求
性能   • 首屏加载 ≤1.5s（基础库2.15.0+）• 图片上传 ≤2s（压缩至300KB内）• 海报生成 ≤3s

兼容性   支持微信基础库 ≥2.10.0（覆盖98%用户）

审核合规   • 无“健康”“减肥”等医疗宣称词• 隐私协议弹窗首次打开必显• 分享文案避免“最”“第一”等广告法违禁词

无障碍   图标配文字说明（如⋮旁小字“更多”），适配TalkBack

六、验收清单（开发交付标准）
- [ ] 智能餐别按时间段精准匹配，修改后标题联动更新  
- [ ] 回顾页⋮图标仅右上角可见，点击弹出菜单无卡顿  
- [ ] 筛选后顶部提示条清晰，[重置]按钮功能正常  
- [ ] 删除操作仅在全屏预览页出现，且需二次确认  
- [ ] 3种海报风格生成正确，小程序码扫码直达该记录  
- [ ] 所有分享链接含参数校验，非本人无法访问  
- [ ] 隐私协议首次打开强制阅读+同意  

七、附录
- 图标资源包：🌅🌞🌙➕（SVG，尺寸24x24px）  
- 配色规范：主色#4CAF50，辅助灰#9E9E9E，背景白#FFFFFF  
- 文案库：  
  删除确认：“删除这顿饭记录？”  
  海报提示：“长按保存，分享到朋友圈”  
  空状态：“还没记录过饭饭哦～"（回顾页无数据时）  
- 微信能力清单：  
  wx.login（静默） / wx.cloud.uploadFile / wx.canvasToTempFilePath / wx.showShareMenu  

✅ 本PRD已覆盖全部讨论需求，无模糊描述，可直接进入开发  
需要我提供：  
🔹 Axure文字版原型标注（含坐标/间距）  
🔹 云开发数据库Schema示例  
🔹 分享卡片预览效果图（文字描述版）  
请随时指示！ 🌱